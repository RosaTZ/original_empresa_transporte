<template>
  <q-layout view="hHh lpR fFf">
    <q-header bordered class="bg-secondary text-white">
      <q-toolbar>
        <q-btn dense flat round icon="menu" @click="toggleLeftDrawer()" />
        <div>
          <svg
            width="200"
            height="45.27949866349864"
            viewBox="0 0 369.6551724137931 60.34421990793785"
            class="css-1j8o68f"
          >
            <defs id="SvgjsDefs2014"></defs>
            <g
              id="SvgjsG2015"
              featurekey="xG21Y3-0"
              transform="matrix(0.6034061066730956,0,0,0.6034061066730956,-111.04604043100815,-268.2170343930432)"
              fill="#111111"
            >
              <path
                xmlns="http://www.w3.org/2000/svg"
                fill="#fff"
                d="M266.091,480.513h-64.323c-1.746,0-3.164,1.418-3.164,3.165v9.499v12.664h1.99h3.724  c0,2.711,2.193,4.9,4.896,4.9s4.896-2.189,4.896-4.9h9.702h13.049h8.535c0,2.711,2.193,4.9,4.9,4.9c2.7,0,4.894-2.189,4.894-4.9  h0.831h13.236v-12.664v-9.499C269.258,481.931,267.84,480.513,266.091,480.513z"
              ></path>
              <path
                xmlns="http://www.w3.org/2000/svg"
                fill="#ffa600d2"
                d="M234.035,444.505c-27.615,0-50.003,22.388-50.003,49.999c0,27.62,22.388,50.007,50.003,50.007  c27.616,0,50.004-22.387,50.004-50.007C284.039,466.893,261.651,444.505,234.035,444.505z M275.16,505.841v5.903h-5.902h-9.926  c-1.928,2.947-5.26,4.896-9.035,4.896s-7.107-1.949-9.042-4.896h-4.394h-13.049h-5.56c-1.932,2.947-5.26,4.896-9.039,4.896  s-7.111-1.949-9.039-4.896h-1.571h-5.902v-5.903v-12.664v-9.499c0-4.998,4.072-9.063,9.066-9.063h64.323  c5.005,0,9.069,4.065,9.069,9.063v9.499V505.841z"
              ></path>
            </g>
            <g
              id="SvgjsG2016"
              featurekey="n48U4P-0"
              transform="matrix(2.15806265667888,0,0,2.15806265667888,78.3598734305494,-2.156890904328117)"
              fill="#fff"
            >
              <path
                d="M6.04 9.38 c1.4 0 2.54 0.35664 3.42 1.07 s1.36 1.6633 1.44 2.85 l-2.78 0 c-0.18666 -1.1867 -0.88666 -1.78 -2.1 -1.78 c-0.74666 0 -1.3367 0.30666 -1.77 0.92 s-0.65 1.4267 -0.65 2.44 c0 0.97334 0.20666 1.76 0.62 2.36 s0.99334 0.9 1.74 0.9 c1.2933 0 2.0466 -0.7 2.26 -2.1 l2.74 0 c-0.18666 1.3733 -0.71666 2.4234 -1.59 3.15 s-2.0034 1.09 -3.39 1.09 c-1.5333 0 -2.7866 -0.49 -3.76 -1.47 s-1.46 -2.2566 -1.46 -3.83 c0 -1.7067 0.48 -3.0666 1.44 -4.08 s2.24 -1.52 3.84 -1.52 z M17.58 9.38 c1.6533 0 2.96 0.50334 3.92 1.51 s1.44 2.3234 1.44 3.95 c0 1.64 -0.49 2.9566 -1.47 3.95 s-2.2766 1.49 -3.89 1.49 c-1.64 0 -2.94 -0.50334 -3.9 -1.51 s-1.44 -2.3166 -1.44 -3.93 c0 -1.6667 0.49 -2.9934 1.47 -3.98 s2.27 -1.48 3.87 -1.48 z M15.08 14.84 c0 1.0533 0.21334 1.8666 0.64 2.44 s1.0467 0.86 1.86 0.86 c0.84 0 1.47 -0.29334 1.89 -0.88 s0.63 -1.3933 0.63 -2.42 c0 -1.0667 -0.21666 -1.8867 -0.65 -2.46 s-1.0633 -0.86 -1.89 -0.86 c-0.8 0 -1.4133 0.28666 -1.84 0.86 s-0.64 1.3933 -0.64 2.46 z M29.800000000000004 9.38 c1.6533 0 2.96 0.50334 3.92 1.51 s1.44 2.3234 1.44 3.95 c0 1.64 -0.49 2.9566 -1.47 3.95 s-2.2766 1.49 -3.89 1.49 c-1.64 0 -2.94 -0.50334 -3.9 -1.51 s-1.44 -2.3166 -1.44 -3.93 c0 -1.6667 0.49 -2.9934 1.47 -3.98 s2.27 -1.48 3.87 -1.48 z M27.300000000000004 14.84 c0 1.0533 0.21334 1.8666 0.64 2.44 s1.0467 0.86 1.86 0.86 c0.84 0 1.47 -0.29334 1.89 -0.88 s0.63 -1.3933 0.63 -2.42 c0 -1.0667 -0.21666 -1.8867 -0.65 -2.46 s-1.0633 -0.86 -1.89 -0.86 c-0.8 0 -1.4133 0.28666 -1.84 0.86 s-0.64 1.3933 -0.64 2.46 z M40.6 6.5600000000000005 l0.000019531 3.1 l2.08 0 l0 1.9 l-2.08 0 l0 5.12 c0 0.48 0.08 0.8 0.24 0.96 s0.48 0.24 0.96 0.24 c0.34666 0 0.64 -0.02666 0.88 -0.08 l0 2.22 c-0.4 0.06666 -0.96 0.1 -1.68 0.1 c-1.0933 0 -1.9067 -0.18666 -2.44 -0.56 s-0.8 -1.02 -0.8 -1.94 l0 -6.06 l-1.72 0 l0 -1.9 l1.72 0 l0 -3.1 l2.84 0 z M50.08 9.38 c0.24 0 0.44668 0.03334 0.62002 0.1 l0 2.64 c-0.30666 -0.06666 -0.64666 -0.1 -1.02 -0.1 c-1.8667 0 -2.8 1.1067 -2.8 3.32 l0 4.66 l-2.84 0 l0 -10.34 l2.7 0 l0 1.92 l0.04 0 c0.28 -0.66666 0.72334 -1.2 1.33 -1.6 s1.2633 -0.6 1.97 -0.6 z M56.58 9.38 c3.0134 0.01334 4.52 0.9933 4.52 2.94 l0 5.48 c0 1.0133 0.12 1.7467 0.36 2.2 l-2.88 0 c-0.10666 -0.32 -0.17332 -0.65334 -0.19998 -1 c-0.84 0.85334 -2 1.28 -3.48 1.28 c-1.08 0 -1.9367 -0.27334 -2.57 -0.82 s-0.95 -1.3067 -0.95 -2.28 c0 -0.94666 0.3 -1.68 0.9 -2.2 c0.61334 -0.54666 1.7267 -0.89332 3.34 -1.04 c1.1467 -0.12 1.8733 -0.27 2.18 -0.45 s0.46 -0.45666 0.46 -0.83 c0 -0.46666 -0.14 -0.81332 -0.42 -1.04 s-0.74666 -0.34 -1.4 -0.34 c-0.6 0 -1.0533 0.12334 -1.36 0.37 s-0.48666 0.64332 -0.54 1.19 l-2.84 0 c0.06666 -1.1333 0.53332 -1.9933 1.4 -2.58 s2.0266 -0.88 3.48 -0.88 z M54.22 17.06 c0 0.88 0.58 1.32 1.74 1.32 c1.52 -0.01334 2.2866 -0.79334 2.3 -2.34 l0 -1.1 c-0.22666 0.22666 -0.8 0.39332 -1.72 0.49998 c-0.8 0.09334 -1.3867 0.25668 -1.76 0.49002 s-0.56 0.61 -0.56 1.13 z M69.24 9.38 c1.32 0 2.2766 0.33338 2.87 1 s0.89 1.7267 0.89 3.18 l0 6.44 l-2.84 0 l0 -5.86 c0 -0.85334 -0.13666 -1.4867 -0.41 -1.9 s-0.74334 -0.62 -1.41 -0.62 c-0.77334 0 -1.3333 0.23334 -1.68 0.7 s-0.52 1.2333 -0.52 2.3 l0 5.38 l-2.84 0 l0 -10.34 l2.7 0 l0 1.44 l0.06 0 c0.70666 -1.1467 1.7667 -1.72 3.18 -1.72 z M79.4 9.38 c1.3867 0 2.47 0.28002 3.25 0.84002 s1.2167 1.38 1.31 2.46 l-2.7 0 c-0.04 -0.49334 -0.22 -0.85 -0.54 -1.07 s-0.78666 -0.33 -1.4 -0.33 c-0.53334 0 -0.93 0.08 -1.19 0.24 s-0.39 0.4 -0.39 0.72 c0 0.24 0.08666 0.44 0.26 0.6 s0.43668 0.3 0.79002 0.42 s0.74334 0.22 1.17 0.3 c1.2933 0.25334 2.2066 0.51334 2.74 0.78 s0.92334 0.58666 1.17 0.96 s0.37 0.83334 0.37 1.38 c0 1.16 -0.42334 2.05 -1.27 2.67 s-1.9967 0.93 -3.45 0.93 c-1.52 0 -2.7034 -0.32666 -3.55 -0.98 s-1.2833 -1.54 -1.31 -2.66 l2.7 0 c0 0.53334 0.20666 0.95668 0.62 1.27 s0.93334 0.47 1.56 0.47 c0.53334 0 0.97668 -0.11666 1.33 -0.35 s0.53 -0.55668 0.53 -0.97002 c0 -0.26666 -0.11 -0.48666 -0.33 -0.66 s-0.53 -0.32668 -0.93 -0.46002 s-1.02 -0.28668 -1.86 -0.46002 c-0.66666 -0.13334 -1.26 -0.31334 -1.78 -0.54 s-0.91666 -0.52332 -1.19 -0.88998 s-0.41 -0.81666 -0.41 -1.35 c0 -0.68 0.16334 -1.2733 0.49 -1.78 s0.82666 -0.89 1.5 -1.15 s1.51 -0.39 2.51 -0.39 z M91.72 9.38 c1.4267 0 2.5666 0.5 3.42 1.5 s1.28 2.3534 1.28 4.06 c0 1.56 -0.41 2.84 -1.23 3.84 s-1.9233 1.5 -3.31 1.5 c-1.36 0 -2.3934 -0.52 -3.1 -1.56 l-0.04 0 l0 4.92 l-2.84 0 l0 -13.98 l2.7 0 l0 1.32 l0.04 0 c0.68 -1.0667 1.7067 -1.6 3.08 -1.6 z M88.63999999999999 14.86 c0 1.0133 0.21336 1.8133 0.64002 2.4 s1.04 0.88 1.84 0.88 c0.82666 0 1.4433 -0.29334 1.85 -0.88 s0.61 -1.3867 0.61 -2.4 c0 -1.04 -0.22 -1.8567 -0.66 -2.45 s-1.0533 -0.89 -1.84 -0.89 s-1.39 0.29334 -1.81 0.88 s-0.63 1.4067 -0.63 2.46 z M103.13999999999999 9.38 c1.6533 0 2.96 0.50334 3.92 1.51 s1.44 2.3234 1.44 3.95 c0 1.64 -0.49 2.9566 -1.47 3.95 s-2.2766 1.49 -3.89 1.49 c-1.64 0 -2.94 -0.50334 -3.9 -1.51 s-1.44 -2.3166 -1.44 -3.93 c0 -1.6667 0.49 -2.9934 1.47 -3.98 s2.27 -1.48 3.87 -1.48 z M100.63999999999999 14.84 c0 1.0533 0.21334 1.8666 0.64 2.44 s1.0467 0.86 1.86 0.86 c0.84 0 1.47 -0.29334 1.89 -0.88 s0.63 -1.3933 0.63 -2.42 c0 -1.0667 -0.21666 -1.8867 -0.65 -2.46 s-1.0633 -0.86 -1.89 -0.86 c-0.8 0 -1.4133 0.28666 -1.84 0.86 s-0.64 1.3933 -0.64 2.46 z M116.38 9.38 c0.24 0 0.44668 0.03334 0.62002 0.1 l0 2.64 c-0.30666 -0.06666 -0.64666 -0.1 -1.02 -0.1 c-1.8667 0 -2.8 1.1067 -2.8 3.32 l0 4.66 l-2.84 0 l0 -10.34 l2.7 0 l0 1.92 l0.04 0 c0.28 -0.66666 0.72334 -1.2 1.33 -1.6 s1.2633 -0.6 1.97 -0.6 z M121.72 6.5600000000000005 l0.000019531 3.1 l2.08 0 l0 1.9 l-2.08 0 l0 5.12 c0 0.48 0.08 0.8 0.24 0.96 s0.48 0.24 0.96 0.24 c0.34666 0 0.64 -0.02666 0.88 -0.08 l0 2.22 c-0.4 0.06666 -0.96 0.1 -1.68 0.1 c-1.0933 0 -1.9067 -0.18666 -2.44 -0.56 s-0.8 -1.02 -0.8 -1.94 l0 -6.06 l-1.72 0 l0 -1.9 l1.72 0 l0 -3.1 l2.84 0 z M129.94 9.38 c0.97334 0 1.84 0.22664 2.6 0.67998 s1.3567 1.11 1.79 1.97 s0.65 1.85 0.65 2.97 c0 0.10666 -0.0066602 0.28 -0.02 0.52 l-7.46 0 c0.02666 0.82666 0.24332 1.47 0.64998 1.93 s1.03 0.69 1.87 0.69 c0.52 0 0.99666 -0.13 1.43 -0.39 s0.71 -0.57666 0.83 -0.95 l2.5 0 c-0.73334 2.32 -2.3466 3.48 -4.84 3.48 c-0.94666 -0.01334 -1.8233 -0.22 -2.63 -0.62 s-1.45 -1.0233 -1.93 -1.87 s-0.72 -1.83 -0.72 -2.95 c0 -1.0533 0.24334 -2.0134 0.73 -2.88 s1.1333 -1.5133 1.94 -1.94 s1.6767 -0.64 2.61 -0.64 z M132.12 13.719999999999999 c-0.13334 -0.77334 -0.38 -1.3333 -0.74 -1.68 s-0.87334 -0.52 -1.54 -0.52 c-0.69334 0 -1.24 0.19666 -1.64 0.59 s-0.63334 0.93 -0.7 1.61 l4.62 0 z"
              ></path>
            </g>
          </svg>
        </div>
        <q-toolbar-title> </q-toolbar-title>
        <div class="infoInicio">
          <q-avatar
            size="40px"
            style="margin-top: 3%; margin-bottom: 3%"
            class="avatar"
            >R</q-avatar
          >
          <div
            class="text-weight-bold"
            style="margin-top: 12%"
            color="amarillo"
          >
            Ros Ruiz
          </div>
        </div>
        <div>
          <!-- BOTON CERRAR SESIONN -->

          <!-- ---------------------------- -->
        </div>
      </q-toolbar>
    </q-header>

    <q-drawer
      v-model="leftDrawerOpen"
      side="left"
      overlay
      behavior="desktop"
      elevated
      show-if-above
      :width="250"
      :breakpoint="600"
    >
      <q-scroll-area style="height: calc(100% - 150px); margin-top: 150px">
        <q-list padding>
          <q-item clickable v-ripple>
            <q-item-section avatar>
              <i class="fa-solid fa-house fa-xl"></i>
            </q-item-section>

            <q-item-section>
              <router-link
                to="/infoEmpresa"
                style="text-decoration: none; color: black"
              >
                Home
              </router-link>
            </q-item-section>
          </q-item>

          <q-item clickable v-ripple>
            <q-item-section avatar>
              <i class="fa-solid fa-person fa-2xl"></i>
            </q-item-section>

            <q-item-section>
              <router-link
                to="/clientes"
                style="text-decoration: none; color: black"
              >
                Clientes
              </router-link>
            </q-item-section>
          </q-item>

          <q-item clickable v-ripple>
            <q-item-section avatar>
              <i class="fa-regular fa-id-card fa-xl"></i>
            </q-item-section>

            <q-item-section>
              <router-link
                to="/conductores"
                style="text-decoration: none; color: black"
              >
                Conductores
              </router-link>
            </q-item-section>
          </q-item>

          <q-item clickable v-ripple>
            <q-item-section avatar>
              <i class="fa-regular fa-eye"></i>
            </q-item-section>

            <q-item-section>
              <router-link
                to="/revision"
                style="text-decoration: none; color: black"
              >
                Revision
              </router-link>
            </q-item-section>
          </q-item>

          <q-item clickable v-ripple>
            <q-item-section avatar>
              <i class="fa-solid fa-route"></i>
            </q-item-section>

            <q-item-section>
              <router-link
                to="/rutas"
                style="text-decoration: none; color: black"
              >
                Rutas
              </router-link>
            </q-item-section>
          </q-item>

          <q-item clickable v-ripple>
            <q-item-section avatar>
              <i class="fa-solid fa-bus fa-xl"></i>
            </q-item-section>

            <q-item-section>
              <router-link
                to="/vehiculos"
                style="text-decoration: none; color: black"
              >
                Vehículos
              </router-link>
            </q-item-section>
          </q-item>

          <q-item clickable v-ripple>
            <q-item-section avatar>
              <i class="fa-solid fa-ticket fa-xl"></i>
            </q-item-section>

            <q-item-section>
              <router-link
                to="/venta"
                style="text-decoration: none; color: rgb(0, 0, 0)"
              >
                Venta
              </router-link>
            </q-item-section>
          </q-item>

          <q-item clickable v-ripple>
            <q-item-section avatar>
              <i class="fa-solid fa-ticket fa-xl"></i>
            </q-item-section>

            <q-item-section>
              <router-link
                to="/ticket"
                style="text-decoration: none; color: rgb(0, 0, 0)"
              >
                Tickets
              </router-link>
            </q-item-section>
          </q-item>
          <div>
            <q-item clickable v-ripple>
              <q-item-section avatar> 
                <i class="fa-solid fa-power-off"></i>
              </q-item-section>

              <q-item-section >
                <div @click="cerrar()">
                  Cerrar sesión
                </div>
              </q-item-section>
            </q-item>
          </div>
        </q-list>
      </q-scroll-area>

      <q-img
        class="absolute-top"
        style="height: 150px; background-color: #273273"
      >
        <div class="absolute-bottom bg-transparent">
          <q-avatar size="50px" style="margin-bottom: 10px" class="avatar"
            >R</q-avatar
          >
          <div class="text-weight-bold">Ros Ruiz</div>
          <div>Administrador</div>

        </div>
      </q-img>
    </q-drawer>
    <q-page-container>
      <router-view v-slot="{ Component }">
        <keep-alive>
          <component :is="Component"> </component>
        </keep-alive>
      </router-view>

      <!-- <router-view /> -->
    </q-page-container>

    <div v-if="modalCerarSesion" class="modal-container">
      <div class="modal-conte">
        <div class="modal-head">
          <h5>¿Esta seguro de cerrar sesión?</h5>
        <div class="modal-foo">
          <button class="btn-cancelar" @click="modalCerarSesion = false">Cancelar</button>
            <button class="btn-cerrar" @click="cerrarsesion()">Cerrar sesión</button>

        </div>
        </div>
      </div>
    </div>
    <!-- ------------------------ -->
  </q-layout>
</template>

<script setup>
import { ref  } from "vue";
import {useRouter ,useRoute} from 'vue-router'
import { useTicketStore } from "../stores/ticket";
const leftDrawerOpen = ref(false);
const router =useRouter()
const route =useRoute()
const useTicket=useTicketStore()
let inicio = ref("");
let modalCerarSesion = ref(false);
function cerrar() {
  modalCerarSesion.value = true;
}

function cerrarsesion() {
  sessionStorage.removeItem("token");
  router.push('/')
  modalCerarSesion.value=false
}

function toggleLeftDrawer() {
          leftDrawerOpen.value = !leftDrawerOpen.value;
}

</script> 

<style>
    .modal-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
  
    .modal-conte {
      background-color:  #d6b1b1;
      border-radius: 5px;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
      max-width: 80%;
      width: 400px;
    }
  
    .modal-head {
      padding: 20px;
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
      border-bottom-left-radius: 5px;
      border-bottom-right-radius: 5px;
      background-color: #273273;  
    }

    .modal-head h5{
      text-align: center;
      font-weight: 800;
      font-weight: bold;
      color: #000000;
      background-color: rgb(233, 236, 242);
      text-align: center;
      padding: 9%;
      border-radius: 7px;
      font-size: 15px;
      margin-top: -2%;
      /* border: solid 2px; */
      cursor: pointer;
      box-shadow:  0px 0px 10px 2px rgb(65, 66, 69);
    }
  
    .modal-body {
      padding: 20px;
    }
  
    .modal-foo {
      padding: 20px;
      background-color: transparent;
      border-bottom-left-radius: 5px;
      border-bottom-right-radius: 5px;
      display: flex;
      justify-content: space-between;
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
    }
  
    /* Estilos para los botones */
    .btn-cancelar,
    .btn-cerrar {
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
  
    .btn-cancelar {
      background-color: #dedcdc;
      color: #273273;
      font-weight: 600;
    }
    .btn-cancelar:hover {
      background-color: #000000b8;
      color: #dedcdc;
      font-weight: 600;
    }
    .btn-cerrar {
      background-color: #dedcdc;
      color: #e74c3c;
      font-weight: 600;
  
    }
    .btn-cerrar:hover {
      background-color: #000000b8;
      color: #dedcdc;
      font-weight: 600;
    }
  </style>

